from drozer.server import uploader

class Exploit(object):
    
    def execute(self, arguments):
        
        if not arguments.shellcode in self.payloads:
            self.stderr.write("unsupported shellcode: " + arguments.shellcode + "\n")
            return
        
        self.generate(arguments)

    def upload(self, arguments, resource, data, magic=None):
        if uploader.upload(arguments, resource, data, magic=magic):
            print " [  OK  ]"
            
            return True
        else:
            print " [ FAIL ]"
            
            return False
        